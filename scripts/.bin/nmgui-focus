#!/usr/bin/env bash

CLASS="com.network.manager"

# Get client info as JSON
CLIENT_INFO=$(hyprctl clients -j)

# Extract geometry for matching window
GEOM=$(echo "$CLIENT_INFO" | jq -r ".[] | select(.class == \"$CLASS\") | .at, .size" )

if [ -n "$GEOM" ]; then
    read -r AT_X AT_Y SIZE_W SIZE_H <<< $(echo "$GEOM" | tr '\n' ' ')
    # Calculate center
    CENTER_X=$(( AT_X + SIZE_W / 2 ))
    CENTER_Y=$(( AT_Y + SIZE_H / 2 ))

    # Focus and move cursor
    hyprctl dispatch "focuswindow class:^($CLASS)$"
    hyprctl dispatch "movecursor exact $CENTER_X $CENTER_Y"
fi
